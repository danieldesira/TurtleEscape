{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack:///./src/main.ts","webpack:///./src/characters/turtle.ts","webpack:///./src/constants/angles.ts","webpack:///./src/controls/controls.ts","webpack:///./src/controls/keyboard.ts","webpack:///./src/controls/touchpad.ts","webpack:///./src/controls/touchsreen.ts","webpack:///webpack/bootstrap"],"sourcesContent":["import Turtle from \"./characters/turtle\";\r\nimport {version} from \"../package.json\";\r\nimport bindControls from \"./controls/controls\";\r\n\r\nconst canvas = document.getElementById(\"canvas\") as HTMLCanvasElement;\r\nconst context = canvas.getContext(\"2d\");\r\nconst turtle = new Turtle();\r\nturtle.paint(context);\r\n\r\nbindControls(canvas, turtle);\r\n\r\nfunction paintBackground() {\r\n  const backgroundImage = document.createElement(\"img\");\r\n  backgroundImage.src = \"./images/background.png\";\r\n  backgroundImage.onload = () =>\r\n    context.drawImage(\r\n      backgroundImage,\r\n      0,\r\n      0,\r\n      backgroundImage.width,\r\n      backgroundImage.height\r\n    );\r\n}\r\n\r\nfunction render() {\r\n  paintBackground();\r\n  turtle.paint(context);\r\n  requestAnimationFrame(render);\r\n}\r\n\r\nconst versionSpan = document.getElementById(\"version\");\r\nversionSpan.innerText = version;\r\n\r\ncanvas.focus();\r\nrender();\r\n","import angles from \"../constants/angles\";\r\nimport Character from \"./character\";\r\n\r\nclass Turtle implements Character {\r\n  private x: number;\r\n  private y: number;\r\n  private angle: number;\r\n\r\n  constructor() {\r\n    this.x = 10;\r\n    this.y = 10;\r\n    this.angle = angles.right;\r\n  }\r\n\r\n  getX = () => this.x;\r\n  getY = () => this.y;\r\n\r\n  moveUp() {\r\n    this.rotate(angles.up);\r\n    if (this.y >= 0) {\r\n      --this.y;\r\n    }\r\n  }\r\n\r\n  moveDown() {\r\n    this.rotate(angles.down);\r\n    ++this.y;\r\n  }\r\n\r\n  moveLeft() {\r\n    this.rotate(angles.left);\r\n    if (this.x >= 0) {\r\n      --this.x;\r\n    }\r\n  }\r\n\r\n  moveRight() {\r\n    this.rotate(angles.right);\r\n    ++this.x;\r\n  }\r\n\r\n  private rotate(angle: number) {\r\n    this.angle = angle;\r\n  }\r\n\r\n  private applyRotation(context: CanvasRenderingContext2D) {\r\n    context.translate(this.x, this.y);\r\n    context.rotate(this.angle);\r\n    context.translate(-this.x, -this.y);\r\n  }\r\n\r\n  paint(context: CanvasRenderingContext2D) {\r\n    const turtleImage = document.createElement(\"img\");\r\n    turtleImage.src = \"./images/turtle.png\";\r\n    turtleImage.onload = () => {\r\n      this.applyRotation(context);\r\n      context.drawImage(\r\n        turtleImage,\r\n        this.x,\r\n        this.y,\r\n        turtleImage.width / 4,\r\n        turtleImage.height / 4\r\n      );\r\n      context.resetTransform();\r\n    };\r\n  }\r\n}\r\n\r\nexport default Turtle;\r\n","const angles = {\r\n  up: 0,\r\n  right: Math.PI / 2,\r\n  down: Math.PI,\r\n  left: Math.PI + Math.PI / 2,\r\n};\r\n\r\nexport default angles;\r\n","import Turtle from \"../characters/turtle\";\r\nimport bindKeyboard from \"./keyboard\";\r\nimport bindWheel from \"./touchpad\";\r\nimport bindTouch from \"./touchsreen\";\r\n\r\nfunction bindControls(canvas: HTMLCanvasElement, mainCharacter: Turtle) {\r\n  bindKeyboard(canvas, mainCharacter);\r\n  bindWheel(canvas, mainCharacter);\r\n  bindTouch(canvas, mainCharacter);\r\n}\r\n\r\nexport default bindControls;\r\n","import Turtle from \"../characters/turtle\";\r\n\r\nfunction handleKeyDown(event: KeyboardEvent, mainCharacter: Turtle) {\r\n  const upKeys = [\"w\", \"W\", \"ArrowUp\"];\r\n  const downKeys = [\"s\", \"S\", \"ArrowDown\"];\r\n  const leftKeys = [\"a\", \"A\", \"ArrowLeft\"];\r\n  const rightKeys = [\"d\", \"D\", \"ArrowRight\"];\r\n\r\n  if (upKeys.includes(event.key)) {\r\n    mainCharacter.moveUp();\r\n  }\r\n\r\n  if (downKeys.includes(event.key)) {\r\n    mainCharacter.moveDown();\r\n  }\r\n\r\n  if (leftKeys.includes(event.key)) {\r\n    mainCharacter.moveLeft();\r\n  }\r\n\r\n  if (rightKeys.includes(event.key)) {\r\n    mainCharacter.moveRight();\r\n  }\r\n}\r\n\r\nfunction bindKeyboard(canvas: HTMLCanvasElement, mainCharacter: Turtle) {\r\n  canvas.addEventListener(\"keydown\", (event) =>\r\n    handleKeyDown(event, mainCharacter)\r\n  );\r\n}\r\n\r\nexport default bindKeyboard;\r\n","import Turtle from \"../characters/turtle\";\r\n\r\nfunction handleWheel(event: WheelEvent, mainCharacter: Turtle) {\r\n  event.preventDefault();\r\n  if (event.deltaX < 0) {\r\n    mainCharacter.moveLeft();\r\n  }\r\n  if (event.deltaX > 0) {\r\n    mainCharacter.moveRight();\r\n  }\r\n  if (event.deltaY < 0) {\r\n    mainCharacter.moveUp();\r\n  }\r\n  if (event.deltaY > 0) {\r\n    mainCharacter.moveDown();\r\n  }\r\n}\r\n\r\nfunction bindWheel(canvas: HTMLCanvasElement, mainCharacter: Turtle) {\r\n  canvas.addEventListener(\"wheel\", (event) =>\r\n    handleWheel(event, mainCharacter)\r\n  );\r\n}\r\n\r\nexport default bindWheel;\r\n","import Turtle from \"../characters/turtle\";\r\n\r\nfunction handleTouchMove(event: TouchEvent, mainCharacter: Turtle) {\r\n  const touch = event.touches[0];\r\n  if (touch.pageX < mainCharacter.getX()) {\r\n    mainCharacter.moveLeft();\r\n  }\r\n  if (touch.pageX > mainCharacter.getX()) {\r\n    mainCharacter.moveRight();\r\n  }\r\n  if (touch.pageY < mainCharacter.getY()) {\r\n    mainCharacter.moveDown();\r\n  }\r\n  if (touch.pageY > mainCharacter.getY()) {\r\n    mainCharacter.moveUp();\r\n  }\r\n}\r\n\r\nfunction bindTouch(canvas: HTMLCanvasElement, mainCharacter: Turtle) {\r\n  canvas.addEventListener(\"touchmove\", (event) =>\r\n    handleTouchMove(event, mainCharacter)\r\n  );\r\n}\r\n\r\nexport default bindTouch;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n"],"names":["canvas","context","turtle","getX","x","getY","y","this","angle","right","moveUp","rotate","up","moveDown","down","moveLeft","left","moveRight","applyRotation","translate","paint","turtleImage","document","createElement","src","onload","drawImage","width","height","resetTransform","Turtle","angles","Math","PI","mainCharacter","addEventListener","event","includes","key","handleKeyDown","preventDefault","deltaX","deltaY","handleWheel","touch","touches","pageX","pageY","handleTouchMove","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","getElementById","getContext","innerText","version","focus","render","backgroundImage","requestAnimationFrame"],"sourceRoot":""}