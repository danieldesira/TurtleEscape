(()=>{"use strict";var e={136:(e,t)=>{function n(e,t){for(var n=[],a=Math.floor(e/t),i=1;i<a;i++)n.push(i*t);return n.push(e-a*t),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=document.createElement("img");t.src=e.level.getBgImg();var a=n(t.width,e.canvas.width),i=n(t.height,e.canvas.height),o=e.mainCharacter.getX()<e.canvas.width?0:a[Math.floor(t.width/e.mainCharacter.getX())-1],s=e.mainCharacter.getY()<e.canvas.height?0:i[Math.floor(t.height/e.mainCharacter.getY())-1];return t.onload=function(){return e.context.drawImage(t,o,s,e.canvas.width,e.canvas.height,0,0,e.canvas.width,e.canvas.height)},t}},386:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=n(307),i=function(){function e(){var e=this;this.getX=function(){return e.x},this.getY=function(){return e.y},this.resetPosition(),this.angle=a.default.right,this.setBgStart(0,0)}return e.prototype.resetPosition=function(){this.x=50,this.y=10},e.prototype.setBgStart=function(e,t){this.bgStartX=e,this.bgStartY=t},e.prototype.setLimits=function(e,t){this.limitX=e,this.limitY=t},e.prototype.moveUp=function(){this.rotate(a.default.up),this.y>0&&--this.y},e.prototype.moveDown=function(){this.rotate(a.default.down),this.y<this.limitY&&++this.y},e.prototype.moveLeft=function(){this.rotate(a.default.left),this.x>0&&--this.x},e.prototype.moveRight=function(){this.rotate(a.default.right),this.x<this.limitX&&++this.x},e.prototype.rotate=function(e){this.angle=e},e.prototype.applyRotation=function(e){e.translate(this.x,this.y),e.rotate(this.angle),e.translate(-this.x,-this.y)},e.prototype.paint=function(e){var t=this,n=document.createElement("img");n.src="./images/turtle.png",n.onload=function(){t.applyRotation(e),e.drawImage(n,t.x-t.bgStartX,t.y-t.bgStartY,n.width/4,n.height/4),e.resetTransform()}},e}();t.default=i},307:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n={up:0,right:Math.PI/2,down:Math.PI,left:Math.PI+Math.PI/2};t.default=n},417:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=n(691),i=n(244),o=n(525);t.default=function(e,t){(0,a.default)(e,t),(0,o.default)(e,t),(0,i.default)(e,t)}},691:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.addEventListener("keydown",(function(e){return function(e,t){["w","W","ArrowUp"].includes(e.key)&&t.moveUp(),["s","S","ArrowDown"].includes(e.key)&&t.moveDown(),["a","A","ArrowLeft"].includes(e.key)&&t.moveLeft(),["d","D","ArrowRight"].includes(e.key)&&t.moveRight()}(e,t)}))}},244:(e,t)=>{function n(e,t){var n,a;if(e.preventDefault(),e instanceof TouchEvent){var i=e.touches[0];n=i.pageX,a=i.pageY}else n=e.pageX,a=e.pageY;n<t.getX()&&t.moveLeft(),n>t.getX()&&t.moveRight(),a<t.getY()&&t.moveUp(),a>t.getY()&&t.moveDown()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){PointerEvent?(e.addEventListener("pointerdown",(function(e){return n(e,t)})),e.addEventListener("pointermove",(function(e){return n(e,t)}))):(e.addEventListener("touchstart",(function(e){return n(e,t)})),e.addEventListener("touchmove",(function(e){return n(e,t)})))}},525:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.addEventListener("wheel",(function(e){return function(e,t){e.preventDefault(),e.deltaX<0&&t.moveLeft(),e.deltaX>0&&t.moveRight(),e.deltaY<0&&t.moveUp(),e.deltaY>0&&t.moveDown()}(e,t)}))}},212:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=n(487),i=function(){function e(){}return e.modal=function(e,t){var n=this;if(!document.getElementById(t.id)){var i=document.createElement("div");if(i.tabIndex=1,i.id=t.id,i.classList.add("dialog"),i.classList.add("fixed"),i.classList.add("text-white"),i.classList.add("w-4/5"),i.classList.add("opacity-80"),i.classList.add("focus:opacity-95"),i.classList.add("bg-amber-500"),i.classList.add("dark:bg-gray-900"),i.classList.add("pt-5"),i.classList.add("pb-5"),i.classList.add("rounded-3xl"),i.classList.add("max-w-xl"),t.title){var o=document.createElement("h1");o.innerText=t.title,o.classList.add("text-center"),o.classList.add("text-xl"),i.appendChild(o),i.appendChild(document.createElement("hr"))}var s=document.createElement("div");switch(this.appendText(t.text,s),i.appendChild(s),e){case a.DialogType.Confirmation:var r=t,d=document.createElement("div");d.classList.add("w-fit"),d.classList.add("m-auto"),i.appendChild(d),this.appendBtn(d,"Yes",(function(){r.yesCallback(),n.closeModal(i)}),!1,"button"),this.appendBtn(d,"No",(function(){r.noCallback(),n.closeModal(i)}),!0,"button");break;case a.DialogType.Notification:this.appendOKButton(i),this.listenKeyboard(i);break;case a.DialogType.Prompt:var l=t;this.appendForm(i,l);break;case a.DialogType.Credits:l=t,this.appendCredits(s,l),this.appendOKButton(i),this.listenKeyboard(i);break;case a.DialogType.Menu:l=t,this.appendMenu(i,l),this.appendOKButton(i),this.listenKeyboard(i);break;case a.DialogType.Changelog:l=t,this.appendChangelog(i,l),this.appendOKButton(i),this.listenKeyboard(i)}document.body.appendChild(i)}},e.appendBtn=function(e,t,n,a,i){var o=document.createElement("button");o.type=i,o.classList.add("rounded-3xl"),o.classList.add("m-1"),o.classList.add("cursor-pointer"),this.assignButtonColor(o,a);var s=document.createElement("span");s.classList.add("text-xl"),s.classList.add("ml-2"),s.classList.add("mr-2"),s.innerText=t,o.appendChild(s),"button"===i&&o.addEventListener("click",n),e.appendChild(o)},e.appendForm=function(e,t){var n=this,a=document.createElement("div");a.classList.add("m-auto"),a.classList.add("w-3/4"),e.appendChild(a);var i=document.createElement("form");a.appendChild(i),i.addEventListener("submit",(function(a){a.preventDefault(),t.onOK&&t.onOK(),n.closeModal(e)})),this.appendInputs(i,t.inputs),this.appendSelects(i,t.selects);var o=document.createElement("div");o.classList.add("w-fit"),o.classList.add("m-auto"),i.appendChild(o),this.appendBtn(o,"OK",null,!1,"submit"),this.appendBtn(o,"Cancel",(function(){t.onCancel&&t.onCancel(),n.closeModal(e)}),!0,"button")},e.appendInputs=function(e,t){for(var n=0,a=t;n<a.length;n++){var i=a[n],o=document.createElement("input");o.type=i.type,o.id="dialog-input-".concat(i.name),o.name="dialog-input-".concat(i.name),o.ariaPlaceholder="Enter ".concat(i.label),o.placeholder="Enter ".concat(i.label),o.maxLength=i.limit,this.assignInputClassNames(o),o.required=i.required,o.ariaRequired=i.required.toString(),e.appendChild(o),this.appendBrElement(e),this.appendBrElement(e)}},e.assignInputClassNames=function(e){e.classList.add("text-center"),e.classList.add("w-full"),e.classList.add("rounded-3xl"),e.classList.add("h-9"),e.classList.add("text-lg"),e.classList.add("text-gray-700")},e.appendSelects=function(e,t){for(var n=function(t){var n=document.createElement("select");n.id="dialog-select-".concat(t.name),n.name="dialog-select-".concat(t.name),n.ariaPlaceholder=t.label,a.assignInputClassNames(n),n.required=t.required,n.ariaRequired=t.required.toString(),e.appendChild(n);for(var i=0,o=t.options;i<o.length;i++){var s=o[i],r=document.createElement("option");r.innerText=s.text,r.value=s.value,t.default===parseInt(s.value)&&(r.selected=!0,r.ariaSelected="true"),n.appendChild(r)}var d=t.onChange;d&&(d(n.selectedOptions[0].value),n.addEventListener("change",(function(){return d(n.selectedOptions[0].value)}))),a.appendBrElement(e),a.appendBrElement(e)},a=this,i=0,o=t;i<o.length;i++)n(o[i])},e.appendBrElement=function(e){var t=document.createElement("br");e.appendChild(t)},e.appendText=function(e,t){if(this.assignTextClassNames(t),e)for(var n=0,a=e;n<a.length;n++){var i=a[n],o=document.createElement("p");o.innerText=i,t.appendChild(o)}},e.appendCredits=function(e,t){for(var n=0,a=t.sections;n<a.length;n++){var i=a[n],o=document.createElement("h2");o.classList.add("text-xl"),o.innerText=i.title,e.appendChild(o);var s=document.createElement("ul");s.classList.add("ml-5");for(var r=0,d=i.contributors;r<d.length;r++){var l=d[r],c=document.createElement("li");c.innerText=l,s.appendChild(c)}e.appendChild(s)}},e.appendOKButton=function(e){var t=this,n=document.createElement("div");n.classList.add("w-fit"),n.classList.add("m-auto"),e.appendChild(n),this.appendBtn(n,"OK",(function(){t.closeModal(e)}),!1,"button")},e.listenKeyboard=function(e){var t=this;e.addEventListener("keydown",(function(n){"Escape"!==n.key&&"Enter"!==n.key||t.closeModal(e)}))},e.appendMenu=function(e,t){var n=document.createElement("div");n.classList.add("w-1/3"),n.classList.add("m-auto"),e.appendChild(n);for(var a=0,i=t.buttons;a<i.length;a++){var o=i[a],s=document.createElement("button");s.type="button",s.innerText=o.text,s.classList.add("w-full"),s.classList.add("h-12"),s.classList.add("rounded-3xl"),s.classList.add("mt-3"),s.classList.add("mb-3"),this.assignButtonColor(s,o.isDanger),s.addEventListener("click",o.callback),n.appendChild(s)}},e.appendChangelog=function(e,t){var n=document.createElement("div");this.assignTextClassNames(n),e.appendChild(n);for(var a=0,i=t.releases;a<i.length;a++){var o=i[a],s=document.createElement("h2");s.classList.add("text-xl"),s.innerText="".concat(o.version," (").concat(o.status," release - ").concat(o.dateTime,")"),n.appendChild(s);var r=document.createElement("ul");r.classList.add("ml-5"),n.appendChild(r);for(var d=0,l=o.points;d<l.length;d++){var c=l[d],u=document.createElement("li");if(u.innerText=c.text,r.appendChild(u),c.subPoints&&c.subPoints.length>0){var p=document.createElement("ol");p.classList.add("list-decimal"),p.classList.add("ml-5"),u.appendChild(p);for(var h=0,f=c.subPoints;h<f.length;h++){var m=f[h],v=document.createElement("li");v.innerText=m,p.appendChild(v)}}}}},e.assignTextClassNames=function(e){e.classList.add("w-11/12"),e.classList.add("m-auto"),e.classList.add("mt-3"),e.classList.add("mb-3"),e.classList.add("grid"),e.classList.add("gap-3"),e.classList.add("max-h-screen-1/4"),e.classList.add("overflow-y-auto")},e.assignButtonColor=function(e,t){t?e.classList.add("bg-red-600"):(e.classList.add("bg-theme-color"),e.classList.add("dark:bg-dark-theme-color"))},e.closeModal=function(e){document.body.contains(e)&&document.body.removeChild(e)},e.closeAllOpenDialogs=function(){for(var e=document.getElementsByClassName("dialog"),t=0;t<e.length;t++)this.closeModal(e[t])},e.confirm=function(t){return e.modal(a.DialogType.Confirmation,t)},e.notify=function(t){return e.modal(a.DialogType.Notification,t)},e.prompt=function(t){return e.modal(a.DialogType.Prompt,t)},e.credit=function(t){return e.modal(a.DialogType.Credits,t)},e.menu=function(t){return e.modal(a.DialogType.Menu,t)},e.changelog=function(t){return e.modal(a.DialogType.Changelog,t)},e}();t.default=i},487:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DialogType=void 0,function(e){e[e.Confirmation=0]="Confirmation",e[e.Notification=1]="Notification",e[e.Prompt=2]="Prompt",e[e.Credits=3]="Credits",e[e.Menu=4]="Menu",e[e.Changelog=5]="Changelog"}(n||(t.DialogType=n={}))},11:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=n(630),i=n(809);t.default=function(e){switch(e){case 1:return new a.default;case 2:return new i.default;default:return!0}}},721:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=this;this.getBgImg=function(){return e.backgroundImage}}},630:function(e,t,n){var a,i=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.backgroundImage="./images/bg-lvl1.png",t}return i(t,e),t}(n(721).default);t.default=o},809:function(e,t,n){var a,i=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.backgroundImage="./images/bg-demo-black.png",t}return i(t,e),t}(n(721).default);t.default=o},962:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=n(212);t.default=function(e,t){return e.getX()===t.bgWidth&&(t.currentLvl++,e.resetPosition(),a.default.notify({id:"new-level",title:"New Level",text:["Welcome to level ".concat(t.currentLvl)]})),t.currentLvl}},147:e=>{e.exports=JSON.parse('{"version":"0.0.6 Preview","devDependencies":{"concurrently":"^8.2.2","postcss":"^8.4.33","serve":"^14.2.1","tailwindcss":"^3.4.1","ts-loader":"^9.5.1","typescript":"^5.3.3","webpack":"^5.89.0","webpack-cli":"^5.1.4"},"scripts":{"webpack":"npx webpack --watch","serve":"npx serve -l 5000","tailwind":"npx tailwindcss -i ./src/main.css -o ./dist/bundle.css --watch --minify","dev":"npx concurrently \\"npm run webpack\\" \\"npm run serve\\" \\"npm run tailwind\\"","start":"npm run dev"}}')}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}(()=>{var e=n(386),t=n(147),a=n(417),i=n(136),o=n(962),s=n(11),r=document.getElementById("canvas"),d=r.getContext("2d"),l=new e.default,c=1;function u(){r.height=window.innerHeight-50,r.width=window.innerWidth}(0,a.default)(r,l),window.addEventListener("resize",u),u(),document.getElementById("version").innerText=t.version,r.focus(),function e(){var t=(0,s.default)(c);if(!0===t)alert("Game complete! Demo for now.. Replace later.");else{var n=(0,i.default)({canvas:r,context:d,mainCharacter:l,level:t});l.setLimits(n.width,n.height),l.paint(d),c=(0,o.default)(l,{bgWidth:n.width,currentLvl:c}),requestAnimationFrame(e)}}()})()})();
//# sourceMappingURL=bundle.js.map