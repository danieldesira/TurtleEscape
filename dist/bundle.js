(()=>{"use strict";var t={136:(t,e)=>{function n(t,e){for(var n=[],r=Math.floor(t/e),o=1;o<r;o++)n.push(o*e);return n.push(t-r*e),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=document.createElement("img");e.src=t.level.getBgImg();var r=n(e.width,t.canvas.width),o=n(e.height,t.canvas.height),i=t.mainCharacter.getX()<t.canvas.width?0:r[Math.floor(e.width/t.mainCharacter.getX())-1],a=t.mainCharacter.getY()<t.canvas.height?0:o[Math.floor(e.height/t.mainCharacter.getY())-1];return e.onload=function(){return t.context.drawImage(e,i,a,t.canvas.width,t.canvas.height,0,0,t.canvas.width,t.canvas.height)},e}},386:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(307),o=function(){function t(){var t=this;this.getX=function(){return t.x},this.getY=function(){return t.y},this.resetPosition(),this.angle=r.default.right,this.setBgStart(0,0)}return t.prototype.resetPosition=function(){this.x=50,this.y=10},t.prototype.setBgStart=function(t,e){this.bgStartX=t,this.bgStartY=e},t.prototype.setLimits=function(t,e){this.limitX=t,this.limitY=e},t.prototype.moveUp=function(){this.rotate(r.default.up),this.y>0&&--this.y},t.prototype.moveDown=function(){this.rotate(r.default.down),this.y<this.limitY&&++this.y},t.prototype.moveLeft=function(){this.rotate(r.default.left),this.x>0&&--this.x},t.prototype.moveRight=function(){this.rotate(r.default.right),this.x<this.limitX&&++this.x},t.prototype.rotate=function(t){this.angle=t},t.prototype.applyRotation=function(t){t.translate(this.x,this.y),t.rotate(this.angle),t.translate(-this.x,-this.y)},t.prototype.paint=function(t){var e=this,n=document.createElement("img");n.src="./images/turtle.png",n.onload=function(){e.applyRotation(t),t.drawImage(n,e.x-e.bgStartX,e.y-e.bgStartY,n.width/4,n.height/4),t.resetTransform()}},t}();e.default=o},307:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n={up:0,right:Math.PI/2,down:Math.PI,left:Math.PI+Math.PI/2};e.default=n},417:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(691),o=n(244),i=n(525);e.default=function(t,e){(0,r.default)(t,e),(0,i.default)(t,e),(0,o.default)(t,e)}},691:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){t.addEventListener("keydown",(function(t){return function(t,e){["w","W","ArrowUp"].includes(t.key)&&e.moveUp(),["s","S","ArrowDown"].includes(t.key)&&e.moveDown(),["a","A","ArrowLeft"].includes(t.key)&&e.moveLeft(),["d","D","ArrowRight"].includes(t.key)&&e.moveRight()}(t,e)}))}},244:(t,e)=>{function n(t,e){var n,r;if(t.preventDefault(),t instanceof TouchEvent){var o=t.touches[0];n=o.pageX,r=o.pageY}else n=t.pageX,r=t.pageY;n<e.getX()&&e.moveLeft(),n>e.getX()&&e.moveRight(),r<e.getY()&&e.moveUp(),r>e.getY()&&e.moveDown()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){PointerEvent?(t.addEventListener("pointerdown",(function(t){return n(t,e)})),t.addEventListener("pointermove",(function(t){return n(t,e)}))):(t.addEventListener("touchstart",(function(t){return n(t,e)})),t.addEventListener("touchmove",(function(t){return n(t,e)})))}},525:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){t.addEventListener("wheel",(function(t){return function(t,e){t.preventDefault(),t.deltaX<0&&e.moveLeft(),t.deltaX>0&&e.moveRight(),t.deltaY<0&&e.moveUp(),t.deltaY>0&&e.moveDown()}(t,e)}))}},11:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(630),o=n(809);e.default=function(t){switch(t){case 1:return new r.default;case 2:return new o.default;default:return!0}}},721:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.default=function(){var t=this;this.getBgImg=function(){return t.backgroundImage}}},630:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backgroundImage="./images/bg-lvl1.png",e}return o(e,t),e}(n(721).default);e.default=i},809:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backgroundImage="./images/bg-demo-black.png",e}return o(e,t),e}(n(721).default);e.default=i},962:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t.getX()===e.bgWidth&&(e.currentLvl++,t.resetPosition()),e.currentLvl}},147:t=>{t.exports=JSON.parse('{"version":"0.0.6 Preview","devDependencies":{"concurrently":"^8.2.2","serve":"^14.2.1","ts-loader":"^9.5.1","typescript":"^5.3.3","webpack":"^5.89.0","webpack-cli":"^5.1.4"},"scripts":{"webpack":"npx webpack --watch","serve":"npx serve -l 5000","dev":"npx concurrently \\"npm run webpack\\" \\"npm run serve\\"","start":"npm run dev"}}')}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}(()=>{var t=n(386),e=n(147),r=n(417),o=n(136),i=n(962),a=n(11),u=document.getElementById("canvas"),s=u.getContext("2d"),c=new t.default,l=1;function f(){u.height=window.innerHeight-50,u.width=window.innerWidth}(0,r.default)(u,c),window.addEventListener("resize",f),f(),document.getElementById("version").innerText=e.version,u.focus(),function t(){var e=(0,a.default)(l);if(!0===e)alert("Game complete! Demo for now.. Replace later.");else{var n=(0,o.default)({canvas:u,context:s,mainCharacter:c,level:e});c.setLimits(n.width,n.height),c.paint(s),l=(0,i.default)(c,{bgWidth:n.width,currentLvl:l}),requestAnimationFrame(t)}}()})()})();
//# sourceMappingURL=bundle.js.map